<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.8"/>
<title>Pikky: amp.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">Pikky
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.8 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Functions</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">amp.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>A PIC32 library for the TPA2016D2 Class D Amplifier.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;amp.h&quot;</code><br />
<code>#include &quot;hwprofile.h&quot;</code><br />
<code>#include &quot;uart.h&quot;</code><br />
</div>
<p><a href="amp_8c_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:ad72dbcf6d0153db1b8d8a58001feed83"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ad72dbcf6d0153db1b8d8a58001feed83"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>DEBUG</b></td></tr>
<tr class="separator:ad72dbcf6d0153db1b8d8a58001feed83"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6e5e21e41c7969a104f810f6c089992c"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a6e5e21e41c7969a104f810f6c089992c"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>I2C_CLOCK_FREQ</b>&#160;&#160;&#160;100000</td></tr>
<tr class="separator:a6e5e21e41c7969a104f810f6c089992c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a7b95a5cd5a063da9acee567cf0fb92d4"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="amp_8c.html#a7b95a5cd5a063da9acee567cf0fb92d4">write8</a> (uint8_t address, uint8_t data)</td></tr>
<tr class="memdesc:a7b95a5cd5a063da9acee567cf0fb92d4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Writes a byte to a TPA2016 register.  <a href="#a7b95a5cd5a063da9acee567cf0fb92d4">More...</a><br /></td></tr>
<tr class="separator:a7b95a5cd5a063da9acee567cf0fb92d4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a59c2c3b2fff6b5e5f82a990235d120b7"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="amp_8c.html#a59c2c3b2fff6b5e5f82a990235d120b7">read8</a> (uint8_t address)</td></tr>
<tr class="memdesc:a59c2c3b2fff6b5e5f82a990235d120b7"><td class="mdescLeft">&#160;</td><td class="mdescRight">read one byte from a TPA2016 register  <a href="#a59c2c3b2fff6b5e5f82a990235d120b7">More...</a><br /></td></tr>
<tr class="separator:a59c2c3b2fff6b5e5f82a990235d120b7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9aa581ced00c186deb04822c6ebd5f80"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="amp_8c.html#a9aa581ced00c186deb04822c6ebd5f80">start_transfer</a> (bool restart)</td></tr>
<tr class="memdesc:a9aa581ced00c186deb04822c6ebd5f80"><td class="mdescLeft">&#160;</td><td class="mdescRight">Starts (or restarts) a transfer to/from the TPA2016.  <a href="#a9aa581ced00c186deb04822c6ebd5f80">More...</a><br /></td></tr>
<tr class="separator:a9aa581ced00c186deb04822c6ebd5f80"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4223ca2ceb81f8f07985bab4b982e22c"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a4223ca2ceb81f8f07985bab4b982e22c"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="amp_8c.html#a4223ca2ceb81f8f07985bab4b982e22c">stop_transfer</a> ()</td></tr>
<tr class="memdesc:a4223ca2ceb81f8f07985bab4b982e22c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Stops a transfer to or from the TPA2016. <br /></td></tr>
<tr class="separator:a4223ca2ceb81f8f07985bab4b982e22c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aec33e16ff24c4810885f6bdb72f9873a"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="amp_8c.html#aec33e16ff24c4810885f6bdb72f9873a">transmit_byte</a> (uint8_t data)</td></tr>
<tr class="memdesc:aec33e16ff24c4810885f6bdb72f9873a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Transmit a byte via I2C to the TPA2016.  <a href="#aec33e16ff24c4810885f6bdb72f9873a">More...</a><br /></td></tr>
<tr class="separator:aec33e16ff24c4810885f6bdb72f9873a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9ba0aa2be464b471cf4975878a4c84df"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a9ba0aa2be464b471cf4975878a4c84df"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>debug_log</b> (const char *string)</td></tr>
<tr class="separator:a9ba0aa2be464b471cf4975878a4c84df"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab546b2d070b024381b6a78b9c08e46f9"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="amp_8c.html#ab546b2d070b024381b6a78b9c08e46f9">amp_init</a> ()</td></tr>
<tr class="memdesc:ab546b2d070b024381b6a78b9c08e46f9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Configure and enable an I2C module for communicating with the TPA2016.  <a href="#ab546b2d070b024381b6a78b9c08e46f9">More...</a><br /></td></tr>
<tr class="separator:ab546b2d070b024381b6a78b9c08e46f9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af0b1cff2c6231205f1f1d555f853bf49"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="amp_8c.html#af0b1cff2c6231205f1f1d555f853bf49">amp_enableChannel</a> (bool r, bool l)</td></tr>
<tr class="memdesc:af0b1cff2c6231205f1f1d555f853bf49"><td class="mdescLeft">&#160;</td><td class="mdescRight">Turns on/off right and left channels by writing to TPA2016_SETUP.  <a href="#af0b1cff2c6231205f1f1d555f853bf49">More...</a><br /></td></tr>
<tr class="separator:af0b1cff2c6231205f1f1d555f853bf49"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a060dbd3071438435cbffdfbb16856d3a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="amp_8c.html#a060dbd3071438435cbffdfbb16856d3a">amp_setGain</a> (int8_t g)</td></tr>
<tr class="memdesc:a060dbd3071438435cbffdfbb16856d3a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets gain in dB by writing to TPA2016_GAIN.  <a href="#a060dbd3071438435cbffdfbb16856d3a">More...</a><br /></td></tr>
<tr class="separator:a060dbd3071438435cbffdfbb16856d3a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a96df2f0776027135e6d3c1baf1ef4598"><td class="memItemLeft" align="right" valign="top">int8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="amp_8c.html#a96df2f0776027135e6d3c1baf1ef4598">amp_getGain</a> ()</td></tr>
<tr class="memdesc:a96df2f0776027135e6d3c1baf1ef4598"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the gain value by reading from TPA2016_GAIN.  <a href="#a96df2f0776027135e6d3c1baf1ef4598">More...</a><br /></td></tr>
<tr class="separator:a96df2f0776027135e6d3c1baf1ef4598"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a27a033becffe82e7bbad2faededc1d03"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="amp_8c.html#a27a033becffe82e7bbad2faededc1d03">amp_setReleaseControl</a> (uint8_t release)</td></tr>
<tr class="memdesc:a27a033becffe82e7bbad2faededc1d03"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets AGC Release time by writing to TPA2016_REL.  <a href="#a27a033becffe82e7bbad2faededc1d03">More...</a><br /></td></tr>
<tr class="separator:a27a033becffe82e7bbad2faededc1d03"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aacf9cb9411b98a0d4051a39952efacd3"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="amp_8c.html#aacf9cb9411b98a0d4051a39952efacd3">amp_setAttackControl</a> (uint8_t attack)</td></tr>
<tr class="memdesc:aacf9cb9411b98a0d4051a39952efacd3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets AGC Attack time by writing to TPA2016_ATK.  <a href="#aacf9cb9411b98a0d4051a39952efacd3">More...</a><br /></td></tr>
<tr class="separator:aacf9cb9411b98a0d4051a39952efacd3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeb7444348802659094e6ac7c0b603711"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="amp_8c.html#aeb7444348802659094e6ac7c0b603711">amp_setHoldControl</a> (uint8_t hold)</td></tr>
<tr class="memdesc:aeb7444348802659094e6ac7c0b603711"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets AGC Hold time by writing to TPA2016_HOLD.  <a href="#aeb7444348802659094e6ac7c0b603711">More...</a><br /></td></tr>
<tr class="separator:aeb7444348802659094e6ac7c0b603711"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5146b67fd4664bb6a5e3d6fbdd08a33f"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a5146b67fd4664bb6a5e3d6fbdd08a33f"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="amp_8c.html#a5146b67fd4664bb6a5e3d6fbdd08a33f">amp_setLimitLevelOn</a> ()</td></tr>
<tr class="memdesc:a5146b67fd4664bb6a5e3d6fbdd08a33f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Turns Power limiter on by writing to TPA2016_AGCLIMIT. <br /></td></tr>
<tr class="separator:a5146b67fd4664bb6a5e3d6fbdd08a33f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a69bf0bd70bc82b76d18993a5a622f15c"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a69bf0bd70bc82b76d18993a5a622f15c"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="amp_8c.html#a69bf0bd70bc82b76d18993a5a622f15c">amp_setLimitLevelOff</a> ()</td></tr>
<tr class="memdesc:a69bf0bd70bc82b76d18993a5a622f15c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Turns Power limiter off by writing to TPA2016_AGCLIMIT. <br /></td></tr>
<tr class="separator:a69bf0bd70bc82b76d18993a5a622f15c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5a9cb4eb9fd26d2c14228133bd9aec1f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="amp_8c.html#a5a9cb4eb9fd26d2c14228133bd9aec1f">amp_setLimitLevel</a> (uint8_t limit)</td></tr>
<tr class="memdesc:a5a9cb4eb9fd26d2c14228133bd9aec1f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets limit level by writing to TPA2016_AGCLIMIT.  <a href="#a5a9cb4eb9fd26d2c14228133bd9aec1f">More...</a><br /></td></tr>
<tr class="separator:a5a9cb4eb9fd26d2c14228133bd9aec1f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adb022efeffe0c4a35a1f1057aa552731"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="amp_8c.html#adb022efeffe0c4a35a1f1057aa552731">amp_setAGCCompression</a> (uint8_t x)</td></tr>
<tr class="memdesc:adb022efeffe0c4a35a1f1057aa552731"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets AGC Compression by writing to TPA2016_AGC.  <a href="#adb022efeffe0c4a35a1f1057aa552731">More...</a><br /></td></tr>
<tr class="separator:adb022efeffe0c4a35a1f1057aa552731"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9d33a2d08dc6a0634c3908e7f218307c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="amp_8c.html#a9d33a2d08dc6a0634c3908e7f218307c">amp_setAGCMaxGain</a> (uint8_t x)</td></tr>
<tr class="memdesc:a9d33a2d08dc6a0634c3908e7f218307c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets max gain by writing to TPA2016_AGC.  <a href="#a9d33a2d08dc6a0634c3908e7f218307c">More...</a><br /></td></tr>
<tr class="separator:a9d33a2d08dc6a0634c3908e7f218307c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>A PIC32 library for the TPA2016D2 Class D Amplifier. </p>
<p>Intended for use with the PIC32MX250F128B. Ported from Adafruit's Arduino library.</p>
<dl class="section author"><dt>Author</dt><dd>Jeff Lutgen </dd></dl>

<p>Definition in file <a class="el" href="amp_8c_source.html">amp.c</a>.</p>
</div><h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="af0b1cff2c6231205f1f1d555f853bf49"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void amp_enableChannel </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>r</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>l</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Turns on/off right and left channels by writing to TPA2016_SETUP. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">r</td><td>right channel </td></tr>
    <tr><td class="paramname">l</td><td>left channel </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="amp_8c_source.html#l00094">94</a> of file <a class="el" href="amp_8c_source.html">amp.c</a>.</p>

</div>
</div>
<a class="anchor" id="a96df2f0776027135e6d3c1baf1ef4598"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int8_t amp_getGain </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Gets the gain value by reading from TPA2016_GAIN. </p>
<dl class="section return"><dt>Returns</dt><dd>Returns gain value in dB </dd></dl>

<p>Definition at line <a class="el" href="amp_8c_source.html#l00132">132</a> of file <a class="el" href="amp_8c_source.html">amp.c</a>.</p>

</div>
</div>
<a class="anchor" id="ab546b2d070b024381b6a78b9c08e46f9"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void amp_init </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Configure and enable an I2C module for communicating with the TPA2016. </p>
<p>NOTE: <a class="el" href="amp_8c.html#ab546b2d070b024381b6a78b9c08e46f9" title="Configure and enable an I2C module for communicating with the TPA2016. ">amp_init()</a> sets up I2C on channel 1: SCL1 pin 17 (B8) SDA1 pin 18 (B9) and UART on channel 1 (for debugging) with these pin mappings: U1RX pin 9 (RPA2) U1TX pin 7 (RPB3) </p>

<p>Definition at line <a class="el" href="amp_8c_source.html#l00064">64</a> of file <a class="el" href="amp_8c_source.html">amp.c</a>.</p>

</div>
</div>
<a class="anchor" id="adb022efeffe0c4a35a1f1057aa552731"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void amp_setAGCCompression </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>x</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sets AGC Compression by writing to TPA2016_AGC. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">x</td><td>TPA2016_AGC_2 1:2 TPA2016_AGC_4 1:4 TPA2016_AGC_8 1:8 </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="amp_8c_source.html#l00220">220</a> of file <a class="el" href="amp_8c_source.html">amp.c</a>.</p>

</div>
</div>
<a class="anchor" id="a9d33a2d08dc6a0634c3908e7f218307c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void amp_setAGCMaxGain </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>x</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sets max gain by writing to TPA2016_AGC. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">x</td><td>value (max 12) </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="amp_8c_source.html#l00235">235</a> of file <a class="el" href="amp_8c_source.html">amp.c</a>.</p>

</div>
</div>
<a class="anchor" id="aacf9cb9411b98a0d4051a39952efacd3"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void amp_setAttackControl </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>attack</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sets AGC Attack time by writing to TPA2016_ATK. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">attack</td><td>attack value (only 6 bits) </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="amp_8c_source.html#l00159">159</a> of file <a class="el" href="amp_8c_source.html">amp.c</a>.</p>

</div>
</div>
<a class="anchor" id="a060dbd3071438435cbffdfbb16856d3a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void amp_setGain </td>
          <td>(</td>
          <td class="paramtype">int8_t&#160;</td>
          <td class="paramname"><em>g</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sets gain in dB by writing to TPA2016_GAIN. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">g</td><td>value in dB (clamped to be in range -28..+30)</td></tr>
  </table>
  </dd>
</dl>
<p>From the datasheet: "These bits are used to select the fixed gain of the amplifier. If the Compression is enabled, fixed gain is adjustable from –28dB to 30dB. If the Compression is disabled, fixed gain is adjustable from 0dB to 30dB." </p>

<p>Definition at line <a class="el" href="amp_8c_source.html#l00117">117</a> of file <a class="el" href="amp_8c_source.html">amp.c</a>.</p>

</div>
</div>
<a class="anchor" id="aeb7444348802659094e6ac7c0b603711"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void amp_setHoldControl </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>hold</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sets AGC Hold time by writing to TPA2016_HOLD. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">hold</td><td>hold time value (only 6 bits) </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="amp_8c_source.html#l00171">171</a> of file <a class="el" href="amp_8c_source.html">amp.c</a>.</p>

</div>
</div>
<a class="anchor" id="a5a9cb4eb9fd26d2c14228133bd9aec1f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void amp_setLimitLevel </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>limit</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sets limit level by writing to TPA2016_AGCLIMIT. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">limit</td><td>value (max 31) </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="amp_8c_source.html#l00201">201</a> of file <a class="el" href="amp_8c_source.html">amp.c</a>.</p>

</div>
</div>
<a class="anchor" id="a27a033becffe82e7bbad2faededc1d03"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void amp_setReleaseControl </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>release</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sets AGC Release time by writing to TPA2016_REL. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">release</td><td>release value (only 6 bits) </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="amp_8c_source.html#l00147">147</a> of file <a class="el" href="amp_8c_source.html">amp.c</a>.</p>

</div>
</div>
<a class="anchor" id="a59c2c3b2fff6b5e5f82a990235d120b7"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t read8 </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>address</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>read one byte from a TPA2016 register </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">address</td><td>the address of the register from which to read </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the byte that was read </dd></dl>

<p>Definition at line <a class="el" href="amp_8c_source.html#l00251">251</a> of file <a class="el" href="amp_8c_source.html">amp.c</a>.</p>

</div>
</div>
<a class="anchor" id="a9aa581ced00c186deb04822c6ebd5f80"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool start_transfer </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>restart</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Starts (or restarts) a transfer to/from the TPA2016. </p>
<p>This routine starts (or restarts) a transfer to/from the TPA2016, waiting (in a blocking loop) until the start (or re-start) condition has completed.</p>
<p>This is a blocking routine that waits for the bus to be idle and the Start (or Restart) signal to complete.</p>
<dl class="section pre"><dt>Precondition</dt><dd>The I2C module must have been initialized. </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">restart</td><td>if false, send a "Start" condition if true, send a "Restart" condition </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true if successful, false if a collision occured during Start signaling </dd></dl>

<p>Definition at line <a class="el" href="amp_8c_source.html#l00364">364</a> of file <a class="el" href="amp_8c_source.html">amp.c</a>.</p>

</div>
</div>
<a class="anchor" id="aec33e16ff24c4810885f6bdb72f9873a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool transmit_byte </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>data</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Transmit a byte via I2C to the TPA2016. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">data</td><td>the byte to be transmitted </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true if successful false if unsuccessful </dd></dl>

<p>Definition at line <a class="el" href="amp_8c_source.html#l00415">415</a> of file <a class="el" href="amp_8c_source.html">amp.c</a>.</p>

</div>
</div>
<a class="anchor" id="a7b95a5cd5a063da9acee567cf0fb92d4"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void write8 </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>address</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Writes a byte to a TPA2016 register. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">address</td><td>the address of the register to which to write </td></tr>
    <tr><td class="paramname">data</td><td>the byte to be written </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="amp_8c_source.html#l00316">316</a> of file <a class="el" href="amp_8c_source.html">amp.c</a>.</p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Wed Jul 10 2019 22:48:10 for Pikky by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.8
</small></address>
</body>
</html>
